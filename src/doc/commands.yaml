commands:
  main:
    name: "stacker"
    description: "Universal POSIX shell framework for system management"
    usage: "stacker [COMMAND] [OPTIONS]"
    
  subcommands:
    - name: "init, -i"
      description: "Initialize Stacker framework in current directory"
      usage: "stacker init [OPTIONS]"
      aliases: ["init", "-i"]
      options:
        - flag: "--template, -t"
          description: "Project template (service, cli, library)"
          default: "service"
        - flag: "--name, -n"
          description: "Project name"
        - flag: "--repo"
          description: "Repository URL"
        - flag: "--script"
          description: "Main script name"
      examples:
        - command: "stacker init"
          description: "Initialize with interactive prompts"
        - command: "stacker init --template=cli --name=mytool"
          description: "Initialize CLI application template"
    
    - name: "config, -c"
      description: "Manage configuration settings"
      usage: "stacker config [get|set|list] [key] [value]"
      aliases: ["config", "-c"]
      examples:
        - command: "stacker config list"
          description: "List all configuration settings"
        - command: "stacker config get update.interval"
          description: "Get specific configuration value"
        - command: "stacker config set update.interval 3600"
          description: "Set configuration value"
    
    - name: "install"
      description: "Install Stacker-based application"
      usage: "stacker install [--systemd|--cron|--manual] [options]"
      options:
        - flag: "--systemd"
          description: "Install as systemd service"
        - flag: "--cron"
          description: "Install as cron job"
        - flag: "--manual"
          description: "Manual installation (default)"
        - flag: "--interval=N"
          description: "Cron interval in minutes"
        - flag: "--auto-update, -a"
          description: "Enable automatic updates"
        - flag: "--redundant"
          description: "Both systemd and cron"
      examples:
        - command: "stacker install --systemd"
          description: "Install as system service"
        - command: "stacker install --cron --interval=300"
          description: "Install with 5-minute cron schedule"
    
    - name: "update, -u"
      description: "Update Stacker-based application"
      usage: "stacker update [--check|--force]"
      aliases: ["update", "-u"]
      options:
        - flag: "--check"
          description: "Check for updates without installing"
        - flag: "--force"
          description: "Force update even if current"
        - flag: "--rollback"
          description: "Rollback to previous version"
      examples:
        - command: "stacker update --check"
          description: "Check for available updates"
        - command: "stacker update"
          description: "Perform update if available"
    
    - name: "service, -s"
      description: "Control Stacker service"
      usage: "stacker service [start|stop|restart|status|enable|disable]"
      aliases: ["service", "-s"]
      examples:
        - command: "stacker service start"
          description: "Start the service"
        - command: "stacker service status"
          description: "Check service status"
        - command: "stacker service enable"
          description: "Enable service at boot"
    
    - name: "health"
      description: "Check system health and diagnostics"
      usage: "stacker health [--verbose]"
      options:
        - flag: "--verbose"
          description: "Show detailed diagnostic information"
      examples:
        - command: "stacker health"
          description: "Quick health check"
        - command: "stacker health --verbose"
          description: "Detailed system diagnostics"
    
    - name: "status"
      description: "Show current status of Stacker-based application"
      usage: "stacker status"
      examples:
        - command: "stacker status"
          description: "Display installation and service status"
    
    - name: "rollback, -r"
      description: "Rollback to previous version"
      usage: "stacker rollback [version]"
      aliases: ["rollback", "-r"]
      examples:
        - command: "stacker rollback"
          description: "Rollback to previous version"
        - command: "stacker rollback 1.2.3"
          description: "Rollback to specific version"
    
    - name: "self-update"
      description: "Update Stacker framework itself"
      usage: "stacker self-update [--check]"
      options:
        - flag: "--check"
          description: "Check for framework updates"
        - flag: "--channel"
          description: "Update channel (stable, beta)"
          default: "stable"
      examples:
        - command: "stacker self-update --check"
          description: "Check for Stacker updates"
        - command: "stacker self-update"
          description: "Update Stacker framework"
    
    - name: "version, -v"
      description: "Show version information"
      usage: "stacker version [--json]"
      aliases: ["version", "-v"]
      options:
        - flag: "--json"
          description: "Output in JSON format"
    
    - name: "help, -h"
      description: "Show help information"
      usage: "stacker help [command]"
      aliases: ["help", "-h"]
      examples:
        - command: "stacker help"
          description: "Show general help"
        - command: "stacker help install"
          description: "Show help for install command"

environment_variables:
  - name: "STACKER_CONFIG_DIR"
    description: "Override default config directory"
    default: "$HOME/.config/stacker"
  
  - name: "STACKER_DATA_DIR"
    description: "Override default data directory"
    default: "$HOME/.local/share/stacker"
  
  - name: "STACKER_LOG_LEVEL"
    description: "Logging level (debug, info, warn, error)"
    default: "info"
  
  - name: "STACKER_UPDATE_CHANNEL"
    description: "Update channel (stable, beta, nightly)"
    default: "stable"
  
  - name: "STACKER_AUTO_UPDATE"
    description: "Enable automatic updates"
    default: "false"
  
  - name: "STACKER_PREFIX"
    description: "Installation prefix"
    default: "/usr/local"